<div class="container">
  <!-- Search Form -->
  <div class="search mb-4">
    <%= simple_form_for :search, url: media_search_path, method: :get, input_html: { class: 'd-flex align-items-center' } do |f| %>
      <%= f.input :provider, as: :select, collection: @watch_providers, input_html: { multiple: true, class: 'form-control me-2' }, prompt: "Select a provider" %>
      <%= f.text_field :query, class: "form-control", placeholder: 'Type a movie title', value: params[:query], data: {refresh_list_target: 'searchInput'}%>
      <button type="submit" class="btn btn-primary">Search</button>
    <% end %>
  </div>

  <!-- Media Cards -->
  <div class="media">
    <h1>Movies</h1>
    <div class="row">
      <% @movies.each do |movie| %>
        <div class="col-md-4 col-ms-6">
          <div class="card-poster mb-4">
            <% if movie['poster_path'] %>
              <img src="https://image.tmdb.org/t/p/w500<%= movie['poster_path'] %>" alt="<%= movie['title'] %> Poster" class="card-img-top img-fluid rounded">
            <% else %>
              <img src="placeholder.jpg" alt="No poster available" class="card-img-top img-fluid rounded">
            <% end %>
            <div class="card-body">
              <h5 class="card-title"><%= link_to movie['title'], medium_path(id: movie['id'], title: movie['title']) %></h5>
            </div>
          </div>
        </div>
      <% end %>
    </div>

    <h2>TV Shows</h2>
    <div class="row">
      <% @tvshows.each do |show| %>
        <div class="col-md-4">
          <div class="card-poster mb-4">
            <% if show['poster_path'] %>
              <img src="https://image.tmdb.org/t/p/w500<%= show['poster_path'] %>" alt="<%= show['name'] %> Poster" class="card-img-top img-fluid rounded">
            <% else %>
              <img src="placeholder.jpg" alt="No poster available" class="card-img-top img-fluid rounded">
            <% end %>
            <div class="card-body">
              <h5 class="card-title"><%= link_to show['name'], medium_path(id: show['id'], title: show['name']) %></h5>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
