<h1>Your Global Watchlist</h1>

<% if @watchlist.any? %>
  <ul>
    <% @watchlist.each do |item| %>
      <li>
        <strong><%= item.media.title %></strong>
        - Runtime: <%= item.media.media_run_time %> minutes
        <%= link_to "Remove", watchlist_medium_path(item), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "btn btn-danger btn-sm" %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>Your watchlist is empty. Add content to start scheduling!</p>
<% end %>

<h2>Generate Your Viewing Schedule</h2>
<%= form_with url: schedule_watchlist_media_path, method: :get, local: true do |form| %>
  <div>
    <%= form.label :platform_count, "How many platforms would you like to subscribe to?" %>
    <%= form.number_field :platform_count, in: 1..5, step: 1, value: 1 %>
  </div>
  <%= form.submit "Generate Schedule", class: "btn btn-primary" %>
<% end %>
