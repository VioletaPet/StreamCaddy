<div class="container mt-1">
  <%= link_to medium_path(@media.api_id) do %>
    <i class="fa-solid fa-arrow-left mb-3" id="back"></i>
  <% end %>
  <div class="episode-container">
    <h1><strong><%= @media.title %></strong></h1>
    <h3><%= @season.name.present? ? @season.name : "Season #{@season.number}" %></h3>
    <p><em><%= @season.synopsis %></em></p>
    <h3>Episodes</h3>
      <div class="row row-cols-2 g-2 justify-content-center">
        <% @season.episodes.each do |episode| %>
          <div class="col">
            <div class="episode-card">
              <p class="mb-1"><strong><%= episode.number %>) <%= episode.name %></strong></p>
              <div class="synopsis-container">
                <p class="synopsis mb-0" data-full-text="<%= episode.synopsis %>">
                  <%= truncate(episode.synopsis, length:100) %>
                </p>
                <% if episode.synopsis.length > 100 %>
                  <button class="read-more-btn" data-expanded="false">Read more</button>
                <% end %>
              </div>
              <p><em><%= episode.runtime %>min</em></p>
            </div>
          </div>
        <% end %>
      </div>
  </div>
</div>
